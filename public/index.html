<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colors Catcher</title>
    <meta name="description" content="Capturer des couleurs ðŸ“¸ðŸŒˆ !" />
    <meta name="theme-color" content="#2d2d2d" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" type="image/png" href="icons/icon-192-framed.png" />
    <link rel="apple-touch-icon" href="icons/icon-192-framed.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="ColorCatcher" />

    <link rel="stylesheet" href="styles/index.css" />
    <link rel="stylesheet" href="pwa-install.css" />
  </head>
  <body>
    <h1 class="colorscatcher">Colors Catcher</h1>
    <div class="capture">
      <div class="capture-palette-stage">
        <canvas id="canvas-palette"></canvas>
      </div>
      <div class="capture-camera-stage" aria-hidden="true">
        <div class="camera-stage-mount" id="cameraStageMount"></div>
      </div>
      <canvas id="canvas"></canvas>
    </div>
    <div class="output">
      <img class="output-img" id="photo" src="" />
      <div class="output-palette" id="outputPalette"></div>
    </div>
    <div class="sliders-container">
      <div class="swatch-slider">
        <input
          type="range"
          min="1"
          max="24"
          value="4"
          step="1"
          aria-label="Echantillons: 4"
        />
        <div class="swatch-meta">
          <span class="swatch-scale-label swatch-scale-label-min">1</span>
          <span class="swatch-count-indicator" aria-live="polite"
            >4 colors</span
          >
          <span class="swatch-scale-label swatch-scale-label-max">24</span>
        </div>
      </div>

      <div class="zoom-btns">
        <div class="wheel-range">
          <input
            class="zoom-wheel"
            type="range"
            min="1"
            max="1"
            value="1"
            step="0.1"
            disabled
          />
        </div>
        <div class="zoom-meta">
          <span class="zoom-scale-bound zoom-scale-min">1.0x</span>
          <span class="zoom-display">1.0x zoom</span>
          <span class="zoom-scale-bound zoom-scale-max">1.0x</span>
        </div>
      </div>
    </div>

    <!-- Palette Collection Panel -->
    <div class="collection-panel">
      <div class="collection-header">
        <h2>Captures</h2>
        <div class="collection-header-actions">
          <button
            class="collection-copy-mode-toggle"
            type="button"
            aria-label="Copier RGB. Touchez pour changer le format."
          >
            Copier RGB
          </button>
          <button class="btn-close-collection">Ã—</button>
        </div>
      </div>
      <div class="collection-grid" id="collectionGrid">
        <!-- Palettes will be dynamically added here -->
      </div>
    </div>

    <div class="btn-containers">
      <div class="camera-preview-dock" id="cameraPreviewDock">
        <video
          class="camera-feed"
          autoplay
          muted
          playsinline
          webkit-playsinline
          disablepictureinpicture
          aria-label="Apercu camera. Touchez pour agrandir ou reduire."
          tabindex="0"
        ></video>
      </div>
      <div class="btns-camera">
        <div class="camera-actions">
          <button class="btn-capture" type="button">
            <img src="logo/colorcatchers.svg" alt="" class="btn-shoot hidden" />
            <svg
              class="btn-on"
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              fill="#000000"
              viewBox="0 0 256 256"
              aria-hidden="true"
            >
              <path
                d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"
              ></path>
            </svg>
          </button>

          <div class="btns-actions">
            <!-- <button class="btn-small btn-filters">filtres</button> -->
            <button
              class="btn-small btn-sfx-toggle"
              type="button"
              aria-pressed="true"
            >
              SON ACTIF
            </button>

            <button class="btn-rotate" type="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                fill="#000000"
                viewBox="0 0 256 256"
                aria-hidden="true"
              >
                <path
                  d="M208,56H180.28L166.65,35.56A8,8,0,0,0,160,32H96a8,8,0,0,0-6.65,3.56L75.71,56H48A24,24,0,0,0,24,80V192a24,24,0,0,0,24,24H208a24,24,0,0,0,24-24V80A24,24,0,0,0,208,56ZM156.81,166.4A48.21,48.21,0,0,1,96,163.77V168a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8h24a8,8,0,0,1,0,16h-5.15a32.12,32.12,0,0,0,40.34,1.61,8,8,0,0,1,9.62,12.79ZM176,120a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h5.15a32.12,32.12,0,0,0-40.34-1.61A8,8,0,0,1,99.19,97.6,48.21,48.21,0,0,1,160,100.23V96a8,8,0,0,1,16,0Z"
                ></path>
              </svg>
            </button>
            <button class="btn-view-collection" type="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                fill="#000000"
                viewBox="0 0 256 256"
                aria-hidden="true"
              >
                <path
                  d="M216,40H72A16,16,0,0,0,56,56V72H40A16,16,0,0,0,24,88V200a16,16,0,0,0,16,16H184a16,16,0,0,0,16-16V184h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM172,72a12,12,0,1,1-12,12A12,12,0,0,1,172,72Zm12,128H40V88H56v80a16,16,0,0,0,16,16H184Zm32-32H72V120.69l30.34-30.35a8,8,0,0,1,11.32,0L163.31,140,189,114.34a8,8,0,0,1,11.31,0L216,130.07V168Z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="app.js"></script>
    <script type="module" src="collection-ui.js"></script>
    <script src="pwa-install.js"></script>
    <!-- <script src="filters.js"></script> -->
  </body>
</html>
